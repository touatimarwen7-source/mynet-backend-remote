# ูุธุงู ุงูุงุณุชูุณุงุฑุงุช ูุงูุฅูุญุงูุงุช (Inquiry & Addenda System)

## ูุธุฑุฉ ุนุงูุฉ
ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงุณุชูุณุงุฑุงุช ุงููุชุนูุฏูู ูุงูุฑุฏูุฏ ุนูููุงุ ูุน ุฅููุงููุฉ ูุดุฑ ููุงุญู (Addenda) ุชูุถูุญูุฉ ูุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ูุฌููุน ุงููุชุนูุฏูู ุงูููุชููู.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1๏ธโฃ ุฅุฑุณุงู ุงูุงุณุชูุณุงุฑ ูู ูุจู ุงููุชุนูุฏ
โ **ุงููุชุทูุจุงุช:**
- ุชุณุฌูู ุงูุฏุฎูู ููุชุนูุฏ (Supplier)
- ุงููุตูู ุฅูู ุตูุญุฉ ุงูููุงูุตุฉ
- ุงูุถุบุท ุนูู "ุฅุฑุณุงู ุงุณุชูุณุงุฑ ุฌุฏูุฏ"

**ุงูุฎุทูุงุช:**
1. ููุก ุญูู "ุงูููุถูุน"
2. ููุก ุญูู "ุชูุงุตูู ุงูุงุณุชูุณุงุฑ"
3. ุฅุฑุณุงู ุงูุงุณุชูุณุงุฑ
4. ุงูุชุญูู ูู ุนุฑุถ ุงูุงุณุชูุณุงุฑ ูู ุงููุงุฆูุฉ ุจุญุงูุฉ "ููุฏ ุงูุงูุชุธุงุฑ"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ุชุฎุฒูู ุงูุงุณุชูุณุงุฑ ูู ุฌุฏูู `tender_inquiries`
- ุชุญุฏูุซ ุงูุญุงูุฉ ุฅูู `pending`
- ุฅุฑุณุงู ุฅุดุนุงุฑ ุฅูู ุฌูุฉ ุงูููุงูุตุฉ (ุงูุจุงุฆุน)

---

### 2๏ธโฃ ูุนุงูุฌุฉ ุงูุฑุฏูุฏ ูู ูุจู ุงูุฅุฏุงุฑุฉ
โ **ุงููุชุทูุจุงุช:**
- ุชุณุฌูู ุงูุฏุฎูู ูุฅุฏุงุฑุฉ/ุฌูุฉ ูุนููุฉ (Buyer/Admin)
- ุงููุตูู ุฅูู ุตูุญุฉ ุงูููุงูุตุฉ
- ุนุฑุถ ุงูุงุณุชูุณุงุฑุงุช ุงููุฑุณูุฉ

**ุงูุฎุทูุงุช:**
1. ุนุฑุถ ูุงุฆูุฉ ุงูุงุณุชูุณุงุฑุงุช
2. ุงุฎุชูุงุฑ ุงุณุชูุณุงุฑ ููุชุญ ูุงูุฐุฉ ุงูุฑุฏูุฏ
3. ูุชุงุจุฉ ุงูุฑุฏ ูู ุญูู "ุฃุถู ุฑุฏู"
4. ุฅุฑุณุงู ุงูุฑุฏ
5. ุงูุชุญูู ูู ุชุญุฏูุซ ุญุงูุฉ ุงูุงุณุชูุณุงุฑ ุฅูู `answered`

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ุชุฎุฒูู ุงูุฑุฏ ูู ุฌุฏูู `inquiry_responses`
- ุชุญุฏูุซ ุญุงูุฉ ุงูุงุณุชูุณุงุฑ ุฅูู `answered`
- ุชูุซูู ุงูุฑุฏ ูุน ุจูุงูุงุช ุงูุดุฎุต ุงูุฐู ุฃุฌุงุจ

---

### 3๏ธโฃ ูุดุฑ ุงูููุญู (Addendum) ูู ุฌููุน ุงูุงุณุชูุณุงุฑุงุช ูุงูุฑุฏูุฏ
โ **ุงููุชุทูุจุงุช:**
- ุชุณุฌูู ุงูุฏุฎูู ูุฅุฏุงุฑุฉ
- ุงููุตูู ุฅูู ุตูุญุฉ ุงูููุงุญู
- ุฌูุน ุฌููุน ุงูุงุณุชูุณุงุฑุงุช ูุงูุฑุฏูุฏ ุฐุงุช ุงูุตูุฉ

**ุงูุฎุทูุงุช:**
1. ุงูุถุบุท ุนูู "ูุดุฑ ููุญู ุฌุฏูุฏ"
2. ุฅุฏุฎุงู ุนููุงู ุงูููุญู (ูุซู: "ุชูุถูุญุงุช ุนูู ุงุณุชูุณุงุฑุงุช ุงูููุงูุตุฉ")
3. ุฅุฏุฎุงู ูุญุชูู ุงูููุญู ุจุตูุบุฉ ููุธูุฉ:
   ```
   ููุญู ุงูููุงูุตุฉ ุฑูู [ุฑูู ุงูููุงูุตุฉ]
   ุชุงุฑูุฎ ุงููุดุฑ: [ุงูุชุงุฑูุฎ]
   
   ุงูุงุณุชูุณุงุฑ ุงูุฃูู:
   - ุงูุณุคุงู: [ูุต ุงูุณุคุงู]
   - ุงูุฑุฏ: [ูุต ุงูุฑุฏ]
   
   ุงูุงุณุชูุณุงุฑ ุงูุซุงูู:
   ...
   ```
4. ูุดุฑ ุงูููุญู
5. ุงูุชุญูู ูู:
   - ุชุฎุฒูู ุงูููุญู ุจูุณุฎุฉ 1
   - ุชูููุฏ ุฑูู ูุฑูุฏ ููููุญู (ADD-YYYY-XXXXX)
   - ุธููุฑ ุงูููุญู ูู ุงููุงุฆูุฉ ูุงุจู ููุชุญููู

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ุชุฎุฒูู ุงูููุญู ูู ุฌุฏูู `addenda`
- ุฅุนุทุงุก ุงูููุญู ุฑููุงู ูุฑูุฏุงู ููุณุฎุฉ
- ุฌุนู ุงูููุญู ูุงุจู ููุชุญููู ุจุตูุบุฉ ูุณุชูุฏ

---

### 4๏ธโฃ ุงูุฅุดุนุงุฑุงุช ุงูุชููุงุฆูุฉ ุนูุฏ ูุดุฑ ุงูููุญู
โ **ุงููุชุทูุจุงุช:**
- ูุดุฑ ููุญู ุฌุฏูุฏ
- ูุงุฆูุฉ ุจุฑูุฏ ุงููุชุนูุฏูู ุงูููุชููู

**ุงูุนูููุฉ:**
1. ุจุนุฏ ูุดุฑ ุงูููุญู ูุจุงุดุฑุฉ
2. ุงููุธุงู ูุฑุณู ุฅุดุนุงุฑ ุชููุงุฆู ุฅูู ุฌููุน ุงููุชุนูุฏูู ุงูุฐูู:
   - ูุฏููุง ุงุณุชูุณุงุฑุงุช ุนูู ุงูููุงูุตุฉ
   - ุฃู ูุดุชุฑููู ูู ุงูููุงูุตุฉ

**ุทุฑู ุงูุฅุดุนุงุฑ:**
- โ๏ธ ุจุฑูุฏ ุฅููุชุฑููู ุจูุต:
  ```
  ุงูููุถูุน: ููุญู ุฌุฏูุฏ ุนูู ุงูููุงูุตุฉ [ุฑูู ุงูููุงูุตุฉ]
  ุงููุญุชูู: ุชู ูุดุฑ ููุญู ุชูุถูุญู ุฌุฏูุฏ ุนูู ุงูููุงูุตุฉ [ุงุณู ุงูููุงูุตุฉ]
  ุงูุจูุงุจุฉ ุงูููุตุฉ: ุงููุฑ ููุง ููุงุทูุงุน ุนูู ุงูุชูุงุตูู
  ```
- ๐ ุฅุดุนุงุฑ ุนูู ุงูููุตุฉ:
  - ูุธูุฑ ูู ูุฑูุฒ ุงูุฅุดุนุงุฑุงุช
  - ูุญุชูู ุนูู ุฑุงุจุท ูุจุงุดุฑ ููููุญู

**ุงูุชุญูู:**
1. ูุชุญ ูุฑูุฒ ุงูุฅุดุนุงุฑุงุช
2. ุงูุชุญูู ูู ูุฌูุฏ ุฅุดุนุงุฑ ุฌุฏูุฏ
3. ุชุญุฏูุฏ ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุงููุฑุณูุฉ
4. ุงูุชุญูู ูู ุชุณุฌูู ุงูุฅุฑุณุงู ูู ุฌุฏูู `addendum_notifications`

---

## ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### `tender_inquiries` - ุงูุงุณุชูุณุงุฑุงุช
```
- id: ูุนุฑูู ูุฑูุฏ
- tender_id: ID ุงูููุงูุตุฉ
- supplier_id: ID ุงููุชุนูุฏ
- subject: ููุถูุน ุงูุงุณุชูุณุงุฑ
- inquiry_text: ูุต ุงูุงุณุชูุณุงุฑ
- attachments: ูููุงุช ูุฑููุฉ (JSON)
- status: pending/answered/closed
- submitted_at: ููุช ุงูุฅุฑุณุงู
```

### `inquiry_responses` - ุงูุฑุฏูุฏ
```
- id: ูุนุฑูู ูุฑูุฏ
- inquiry_id: ID ุงูุงุณุชูุณุงุฑ
- tender_id: ID ุงูููุงูุตุฉ
- response_text: ูุต ุงูุฑุฏ
- attachments: ูููุงุช ูุฑููุฉ (JSON)
- answered_by: ID ุงูุดุฎุต ุงูุฐู ุฃุฌุงุจ
- answered_at: ููุช ุงูุฑุฏ
- is_public: ุธููุฑ ุงูุฑุฏ ูุฌููุน ุงููุชุนูุฏูู
```

### `addenda` - ุงูููุงุญู
```
- id: ูุนุฑูู ูุฑูุฏ
- tender_id: ID ุงูููุงูุตุฉ
- addendum_number: ุฑูู ูุฑูุฏ ููููุญู
- title: ุนููุงู ุงูููุญู
- content: ูุญุชูู ุงูููุญู
- inquiry_responses: ูุงุฆูุฉ ุงูุงุณุชูุณุงุฑุงุช ูุงูุฑุฏูุฏ (JSON)
- published_at: ููุช ุงููุดุฑ
- published_by: ID ุงูุดุฎุต ุงูุฐู ูุดุฑ
- version: ุฑูู ุงููุณุฎุฉ (1, 2, 3...)
```

### `addendum_notifications` - ุงูุฅุดุนุงุฑุงุช
```
- id: ูุนุฑูู ูุฑูุฏ
- addendum_id: ID ุงูููุญู
- user_id: ID ุงููุณุชุฎุฏู
- sent_at: ููุช ุงูุฅุฑุณุงู
- read_at: ููุช ุงููุฑุงุกุฉ (null ุฅุฐุง ูู ูููุฑุฃ)
- notification_method: email/platform
```

---

## ุงูู API Endpoints

### ุงูุงุณุชูุณุงุฑุงุช
- `POST /api/tenders/:tenderId/inquiries` - ุฅุฑุณุงู ุงุณุชูุณุงุฑ ุฌุฏูุฏ
- `GET /api/tenders/:tenderId/inquiries` - ุงูุญุตูู ุนูู ุงุณุชูุณุงุฑุงุช ุงูููุงูุตุฉ
- `GET /api/my-inquiries` - ุงุณุชูุณุงุฑุงุช ุงููุชุนูุฏ
- `GET /api/inquiries/:inquiryId/responses` - ุงูุญุตูู ุนูู ุฑุฏูุฏ ุงูุงุณุชูุณุงุฑ

### ุงูุฑุฏูุฏ
- `POST /api/inquiries/:inquiryId/respond` - ุฅุฑุณุงู ุฑุฏ ุนูู ุงุณุชูุณุงุฑ

### ุงูููุงุญู
- `POST /api/tenders/:tenderId/addenda` - ูุดุฑ ููุญู ุฌุฏูุฏ
- `GET /api/tenders/:tenderId/addenda` - ุงูุญุตูู ุนูู ููุงุญู ุงูููุงูุตุฉ

### ุงูุฅุดุนุงุฑุงุช
- `GET /api/my-notifications` - ุงูุญุตูู ุนูู ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู
- `POST /api/notifications/:notificationId/read` - ุชุญุฏูุฏ ุฅุดุนุงุฑ ูููุฑูุก

---

## ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ

### ุงูุณููุงุฑูู 1: ูุชุนูุฏ ูุฑุณู ุงุณุชูุณุงุฑ
```
1. ุชุณุฌูู ุฏุฎูู ููุชุนูุฏ
2. ูุชุญ ููุงูุตุฉ ููุดูุฑุฉ
3. ุฅุฑุณุงู ุงุณุชูุณุงุฑ ุนู ุดุฑูุท ุงูุฏูุน
4. ุงูุชุญูู ูู ุญูุธ ุงูุงุณุชูุณุงุฑ
5. ุนุฑุถ ุงูุงุณุชูุณุงุฑ ูู ูุงุฆูุฉ ุงุณุชูุณุงุฑุงุช ุงููุชุนูุฏ
```

### ุงูุณููุงุฑูู 2: ุฅุฏุงุฑุฉ ุชุฑุฏ ุนูู ุงุณุชูุณุงุฑ
```
1. ุชุณุฌูู ุฏุฎูู ูุฅุฏุงุฑุฉ
2. ูุชุญ ุตูุญุฉ ุงูููุงูุตุฉ
3. ุนุฑุถ ุงูุงุณุชูุณุงุฑุงุช
4. ูุชุญ ุงุณุชูุณุงุฑ "ููุฏ ุงูุงูุชุธุงุฑ"
5. ูุชุงุจุฉ ุฑุฏ ูุงุถุญ
6. ุฅุฑุณุงู ุงูุฑุฏ
7. ุงูุชุญูู ูู ุชุญุฏูุซ ุงูุญุงูุฉ ุฅูู "answered"
```

### ุงูุณููุงุฑูู 3: ูุดุฑ ููุญู ุดุงูู
```
1. ุชุณุฌูู ุฏุฎูู ูุฅุฏุงุฑุฉ
2. ุฌูุน ุฌููุน ุงูุงุณุชูุณุงุฑุงุช ูุงูุฑุฏูุฏ
3. ุฅูุดุงุก ููุญู ูุชุถูู:
   - ุนููุงู ูุงุถุญ
   - ุฌููุน ุงูุงุณุชูุณุงุฑุงุช ูุงูุฑุฏูุฏ ููุณูุฉ
4. ูุดุฑ ุงูููุญู
5. ุงูุชุญูู ูู:
   - ุชุฎุฒูู ุงูููุญู ุจุงูุฑูู ADD-YYYY-XXXXX
   - ุงููุณุฎุฉ = 1
   - ุงูููุญู ูุงุจู ููุชุญููู
```

### ุงูุณููุงุฑูู 4: ุงููุชุนูุฏูู ูุณุชูุจููู ุฅุดุนุงุฑุงุช
```
1. ูุดุฑ ููุญู ุฌุฏูุฏ
2. ุชุณุฌูู ุฏุฎูู ููุชุนูุฏ ูุฏู ุงุณุชูุณุงุฑ
3. ูุชุญ ูุฑูุฒ ุงูุฅุดุนุงุฑุงุช
4. ุงูุชุญูู ูู ูุฌูุฏ ุฅุดุนุงุฑ "ููุญู ุฌุฏูุฏ"
5. ุงูุถุบุท ุนูู ุงูุฅุดุนุงุฑ
6. ุนุฑุถ ูุญุชูู ุงูููุญู
7. ุชุญููู ุงูููุญู
8. ุชุญุฏูุฏ ุงูุฅุดุนุงุฑ ูููุฑูุก
```

---

## ุงูุญุงูุงุช ุงูุญุฏูุฉ (Edge Cases)

### โ ุงูุชุนุงูู ุงูุตุญูุญ ูุน:
- ุงุณุชูุณุงุฑุงุช ูุชุนุฏุฏุฉ ุนูู ููุณ ุงูููุงูุตุฉ ูู ูุชุนูุฏูู ูุฎุชูููู
- ุฑุฏูุฏ ูุชุนุฏุฏุฉ ุนูู ููุณ ุงูุงุณุชูุณุงุฑ ูู ุฃุดุฎุงุต ูุฎุชูููู
- ููุงุญู ูุชุนุฏุฏุฉ (ุงููุณุฎุฉ 2ุ 3... ุงูุฎ)
- ุฅุดุนุงุฑุงุช ููุณุชุฎุฏููู ุญุฐููุง ุญุณุงุจุงุชูู (ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก)
- ููุงุญู ูุน ูุญุชูู ูุจูุฑ ุฌุฏุงู (>10MB)

### โ๏ธ ุญุงูุงุช ุงูุฎุทุฃ:
- ูุญุงููุฉ ุฅุฑุณุงู ุงุณุชูุณุงุฑ ุจุฏูู ูุต
- ูุญุงููุฉ ุงูุฑุฏ ุนูู ุงุณุชูุณุงุฑ ูู ุฌูุฉ ููุณุช ูุณุคููุฉ
- ูุญุงููุฉ ูุดุฑ ููุญู ุจุฏูู ูุญุชูู
- ูุทุน ุงูุงุชุตุงู ุฃุซูุงุก ุฅุฑุณุงู ุงูููุญู

---

## ูุนุงููุฑ ุงููุฌุงุญ

โ **ุนูุฏ ุงูุงูุชูุงู:**
- ุฌููุน ุงูุงุณุชูุณุงุฑุงุช ุชูุญูุธ ุจุดูู ุตุญูุญ
- ุงูุฑุฏูุฏ ุชูุฑุณู ูุชูุฎุฒู ุฏูู ููุฏุงู ุงูุจูุงูุงุช
- ุงูููุงุญู ุชููุดุฑ ุจุฑูู ูุฑูุฏ ููุณุฎุฉ ุตุญูุญุฉ
- ุงูุฅุดุนุงุฑุงุช ุชูุฑุณู ููุฑุงู ุนูุฏ ูุดุฑ ููุญู
- ูุง ุชูุฌุฏ ุชุณุฑูุจุงุช ุจูุงูุงุช ุดุฎุตูุฉ
- ุงููุธุงู ูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุจุดูู ุณููู

