/* ============================================
   Z-INDEX SYSTEM - Layering Management
   ============================================ */

:root {
  /* Z-Index Layers */
  --z-hide: -1;
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-fixed: 300;
  --z-modal-bg: 400;
  --z-modal: 500;
  --z-tooltip: 600;
  --z-notification: 700;
  --z-max: 999;
}

/* ============================================
   STICKY/FIXED ELEMENTS
   ============================================ */

/* Navigation Bar */
.navbar,
.public-navbar,
[role="navigation"][class*="sticky"] {
  z-index: var(--z-fixed);
  position: sticky;
  top: 0;
}

/* Sidebar */
.sidebar,
[class*="sidebar"] {
  z-index: var(--z-sticky);
}

/* ============================================
   DROPDOWN & MENUS
   ============================================ */

.dropdown,
.dropdown-menu,
[role="menu"],
.menu {
  z-index: var(--z-dropdown);
}

.dropdown:hover > .dropdown-menu,
.menu.active {
  z-index: var(--z-dropdown);
}

/* ============================================
   MODAL & DIALOGS
   ============================================ */

/* Modal Backdrop */
.modal-backdrop,
.overlay,
.modal-overlay,
[class*="backdrop"] {
  z-index: var(--z-modal-bg);
  position: fixed;
}

/* Modal Content */
.modal,
.modal-content,
[role="dialog"],
.dialog {
  z-index: var(--z-modal);
  position: fixed;
}

/* Ensure modals are above other content */
.modal.show,
[role="dialog"][aria-modal="true"] {
  z-index: var(--z-modal);
}

/* ============================================
   POPOVER & TOOLTIP
   ============================================ */

.tooltip,
[role="tooltip"],
.popover,
[role="region"][aria-label*="tip"],
[class*="tooltip"],
[class*="popover"] {
  z-index: var(--z-tooltip);
  position: absolute;
}

.tooltip.show,
[role="tooltip"]:not([hidden]) {
  z-index: var(--z-tooltip);
}

/* ============================================
   NOTIFICATIONS & ALERTS
   ============================================ */

.alert,
.notification,
.toast,
[role="alert"],
[role="status"],
[class*="alert"],
[class*="notification"],
[class*="toast"] {
  z-index: var(--z-notification);
}

/* Ensure notifications are above everything */
.alert.show,
.notification.show,
.toast.show,
[role="alert"]:not([hidden]),
[role="status"]:not([hidden]) {
  z-index: var(--z-notification);
}

/* ============================================
   FLOATING ACTION BUTTONS
   ============================================ */

.fab,
[class*="floating-action"],
[class*="fab"] {
  z-index: var(--z-tooltip);
  position: fixed;
}

/* ============================================
   SKIP LINKS
   ============================================ */

.skip-link,
[class*="skip"] {
  z-index: var(--z-max);
}

/* ============================================
   LOADING INDICATORS
   ============================================ */

.loading-spinner,
.loader,
.spinner,
[class*="loading"] {
  z-index: var(--z-notification);
}

.loading-overlay,
[class*="loading-overlay"] {
  z-index: var(--z-modal-bg);
}

/* ============================================
   CONTEXT MENUS & POPOVERS
   ============================================ */

.context-menu,
.popover,
.dropdown-content {
  z-index: var(--z-dropdown);
}

.context-menu.show,
.popover.show,
.dropdown-content.show {
  z-index: var(--z-dropdown);
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  * {
    z-index: 0 !important;
  }
  
  .no-print {
    display: none !important;
  }
}

/* ============================================
   ACCESSIBILITY FOCUS
   ============================================ */

/* Ensure focus indicators are visible */
*:focus-visible {
  z-index: auto;
  outline: 2px solid #00a8e8;
  outline-offset: 2px;
}

/* ============================================
   DEBUG MODE
   ============================================ */

@media (max-width: 0px) {
  /* Use this in development to visualize z-index layers */
  .navbar { outline: 3px solid red; }
  .modal-backdrop { outline: 3px solid blue; }
  .modal { outline: 3px solid green; }
  .tooltip { outline: 3px solid yellow; }
  .notification { outline: 3px solid purple; }
}
